# set ft=sh

yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

yabai -m config layout bsp

yabai -m config top_padding    5
yabai -m config bottom_padding 5
yabai -m config left_padding   5
yabai -m config right_padding  5
yabai -m config window_gap     5

yabai -m config mouse_follows_focus off

yabai -m rule --add app="^Configuraci√≥ del Sistema$" manage=off
yabai -m rule --add app="^Calculator$" manage=off
yabai -m rule --add app="^Karabiner-Elements$" manage=off
yabai -m rule --add app="^QuickTime Player$" manage=off
yabai -m rule --add app="^Logi Options\+$" manage=off
yabai -m rule --add app="Arc" title="Seleccioneu un certificat" manage=off
yabai -m rule --add app="^JabRef$" title!="^.*\.bib \- JabRef" manage=off

# float child window
yabai -m signal --add event=window_created action='
  yabai -m query --windows --window $yabai_window_id | jq -er ".\"can-resize\" or .\"is-floating\"" || \
  yabai -m window $yabai_window_id --toggle float --layer above --grid 4:4:1:1:2:2
'

